(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a164a50"],{"1dde":function(e,t,s){var n=s("d039"),r=s("b622"),o=s("2d00"),a=r("species");e.exports=function(e){return o>=51||!n((function(){var t=[],s=t.constructor={};return s[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"2a3b":function(e,t,s){"use strict";s("6c2b")},"3f9b":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"userplace"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data}},[s("el-table-column",{attrs:{label:"手机号",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.show!=t.$index?s("span",[e._v(e._s(t.row.phone))]):e._e(),e.show===t.$index?s("el-input",{attrs:{clearable:"",placeholder:"请输入手机号"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}}):e._e()]}}])}),s("el-table-column",{attrs:{label:"收件人",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.show!=t.$index?s("span",[e._v(e._s(t.row.username))]):e._e(),e.show===t.$index?s("el-input",{attrs:{clearable:"",placeholder:"请输入收件人"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}}):e._e()]}}])}),s("el-table-column",{attrs:{label:"地址"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.show!=t.$index?s("span",[e._v(e._s(t.row.address))]):e._e(),e.show===t.$index?s("el-input",{attrs:{clearable:"",placeholder:"请输入地址"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}}):e._e()]}}])}),s("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.show!=t.$index?s("el-button",{attrs:{type:"text"},on:{click:function(s){return e.change(t.$index,t.row)}}},[e._v("修改")]):e._e(),e.show!=t.$index?s("span",[s("el-popconfirm",{attrs:{title:"确定删除该地址吗？"},on:{onConfirm:function(s){return e.deleteaddress(t.$index,t.row)}}},[s("el-button",{staticClass:"deletebut",attrs:{slot:"reference",type:"text"},slot:"reference"},[e._v("删除")])],1)],1):e._e(),e.show===t.$index&&e.show!=e.length?s("el-button",{attrs:{type:"text"},on:{click:function(s){return e.update(t.$index,t.row)}}},[e._v("确认")]):e._e(),e.show===t.$index&&e.show===e.length?s("el-button",{attrs:{type:"text"},on:{click:function(s){return e.update(t.$index,t.row)}}},[e._v("增加")]):e._e(),e.show===t.$index?s("el-button",{attrs:{type:"text"},on:{click:function(s){return e.cancel(t.$index,t.row)}}},[e._v("取消")]):e._e()]}}])})],1),s("div",{staticClass:"addplace",on:{click:e.add}},[e._m(0)])],1)},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"add"},[n("img",{attrs:{src:s("816c"),alt:""}})])}],o=(s("ac1f"),s("00b4"),s("a434"),s("5d69")),a={name:"UserPlace",data:function(){return{show:null,phone:null,username:null,address:null,data:[],count:0,length:null,form:{}}},methods:{change:function(e,t){1===this.count&&(this.data.pop(),this.count--),this.phone=t.phone,this.username=t.username,this.address=t.address,this.form=t,this.show=e},cancel:function(e,t){e===this.length?(this.data.pop(),this.count--):(t.phone=this.phone,t.username=this.username,t.address=this.address,this.form={},this.show=null)},update:function(e,t){""===this.form.phone?this.$message({message:"手机号不能为空",type:"error",center:!0,showClose:!0}):""===this.form.username?this.$message({message:"收件人不能为空",type:"error",center:!0,showClose:!0}):""===this.form.address?this.$message({message:"地址不能为空",type:"error",center:!0,showClose:!0}):/^1\d{10}$/.test(this.form.phone)?e===this.length?this.addAddress(e,t):this.updateAddress():this.$message({message:"请输入11位手机号码，1xx xxxx xxxx",type:"error",center:!0,showClose:!0})},deleteaddress:function(e,t){var s=this;1===this.count&&(this.data.pop(),this.count--),Object(o["b"])({aid:t.aid}).then((function(t){s.$message({message:t,type:"success",center:!0,showClose:!0}),s.data.splice(e,1),s.length--})).catch((function(e){console.log(e)}))},add:function(){if(0===this.count){var e=new Object;e.aid="",e.phone="",e.username="",e.address="",this.form=e,this.data.push(e),this.show=this.length,this.count++}},addAddress:function(e,t){var s=this;Object(o["a"])({uid:this.$store.state.uid,phone:this.form.phone,username:this.form.username,address:this.form.address}).then((function(e){s.$message({message:e.msg,type:"success",center:!0,showClose:!0}),t.aid=e.aid,s.show=null,s.length++,s.count--})).catch((function(e){console.log(e)}))},updateAddress:function(){var e=this;Object(o["e"])({aid:this.form.aid,phone:this.form.phone,username:this.form.username,address:this.form.address}).then((function(t){e.$message({message:t,type:"success",center:!0,showClose:!0}),e.show=null})).catch((function(e){console.log(e)}))}},created:function(){var e=this;Object(o["c"])({uid:this.$store.state.uid}).then((function(t){e.data=t,e.length=t.length})).catch((function(e){console.log(e)}))}},i=a,c=(s("2a3b"),s("2877")),d=Object(c["a"])(i,n,r,!1,null,"52b8497f",null);t["default"]=d.exports},"5d69":function(e,t,s){"use strict";s.d(t,"a",(function(){return r})),s.d(t,"b",(function(){return o})),s.d(t,"e",(function(){return a})),s.d(t,"c",(function(){return i})),s.d(t,"d",(function(){return c}));var n=s("1bab");function r(e){return Object(n["a"])({url:"/address/addAddress",method:"post",params:e})}function o(e){return Object(n["a"])({url:"/address/deleteAddress",params:e})}function a(e){return Object(n["a"])({url:"/address/updateAddress",method:"post",params:e})}function i(e){return Object(n["a"])({url:"/address/queryAddressbyuid",params:e})}function c(e){return Object(n["a"])({url:"/address/queryaddress",params:e})}},"6c2b":function(e,t,s){},"816c":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAnUlEQVRYR2NkGGDAOMD2M5DtgCdPniQgO15GRmYBOZ4h2wHPnz+f////f7AjGBkZF0hKSiaOOmA0BEZDYDQERkOAohAAle3MzMz2JBhi8///fxVoUXyHgYHhCLF6////f1xKSmoWWC9ME8gBTExM84k1hEJ16YPTAQMaBaQG6Wh1PBoCoyEwGgKjITDgITDgXTNS6w5c6snuG1LLAQABH9whHNrbqAAAAABJRU5ErkJggg=="},8418:function(e,t,s){"use strict";var n=s("a04b"),r=s("9bf2"),o=s("5c6c");e.exports=function(e,t,s){var a=n(t);a in e?r.f(e,a,o(0,s)):e[a]=s}},a434:function(e,t,s){"use strict";var n=s("23e7"),r=s("da84"),o=s("23cb"),a=s("5926"),i=s("07fa"),c=s("7b0b"),d=s("65f0"),u=s("8418"),l=s("1dde"),h=l("splice"),f=r.TypeError,p=Math.max,m=Math.min,b=9007199254740991,g="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!h},{splice:function(e,t){var s,n,r,l,h,w,x=c(this),A=i(x),$=o(e,A),_=arguments.length;if(0===_?s=n=0:1===_?(s=0,n=A-$):(s=_-2,n=m(p(a(t),0),A-$)),A+s-n>b)throw f(g);for(r=d(x,n),l=0;l<n;l++)h=$+l,h in x&&u(r,l,x[h]);if(r.length=n,s<n){for(l=$;l<A-n;l++)h=l+n,w=l+s,h in x?x[w]=x[h]:delete x[w];for(l=A;l>A-n+s;l--)delete x[l-1]}else if(s>n)for(l=A-n;l>$;l--)h=l+n-1,w=l+s-1,h in x?x[w]=x[h]:delete x[w];for(l=0;l<s;l++)x[l+$]=arguments[l+2];return x.length=A-n+s,r}})}}]);
//# sourceMappingURL=chunk-0a164a50.d8212e9d.js.map