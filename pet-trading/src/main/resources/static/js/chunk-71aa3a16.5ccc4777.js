(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71aa3a16"],{"2af7":function(e,t,a){"use strict";a("9dac")},"8ca7":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"usermanage"},[a("div",{staticClass:"selectbar"},[a("el-form",{attrs:{inline:!0,model:e.form}},[a("el-form-item",{attrs:{label:"用户id"}},[a("el-input",{attrs:{clearable:"",placeholder:"用户id"},model:{value:e.form.uid,callback:function(t){e.$set(e.form,"uid",t)},expression:"form.uid"}})],1),a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{attrs:{clearable:"",placeholder:"用户名"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),a("el-form-item",{attrs:{label:"真实姓名"}},[a("el-input",{attrs:{clearable:"",placeholder:"真实姓名"},model:{value:e.form.realname,callback:function(t){e.$set(e.form,"realname",t)},expression:"form.realname"}})],1),a("el-form-item",{attrs:{label:"身份证"}},[a("el-input",{attrs:{clearable:"",placeholder:"身份证"},model:{value:e.form.idcard,callback:function(t){e.$set(e.form,"idcard",t)},expression:"form.idcard"}})],1),a("el-form-item",{attrs:{label:"联系电话"}},[a("el-input",{attrs:{clearable:"",placeholder:"联系电话"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),a("el-form-item",[a("el-button",{attrs:{clearable:"",icon:"el-icon-search",type:"primary",circle:""},on:{click:e.request}})],1)],1)],1),a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.user}},[a("el-table-column",{attrs:{prop:"uid",label:"id",sortable:"",width:"100"}}),a("el-table-column",{attrs:{label:"用户头像",width:"180"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("div",{staticClass:"avatar"},[a("img",{attrs:{src:"/api/"+e.row.avatar,alt:""}})])]}}])}),a("el-table-column",{attrs:{prop:"username",label:"用户名",width:"180"}}),a("el-table-column",{attrs:{prop:"password",label:"登录密码",width:"150"}}),a("el-table-column",{attrs:{prop:"sex",label:"性别",width:"100"}}),a("el-table-column",{attrs:{prop:"realname",label:"真实姓名",width:"180"}}),a("el-table-column",{attrs:{prop:"idcard",width:"200",label:"身份证号"}}),a("el-table-column",{attrs:{prop:"telphone",label:"手机号",width:"180"}}),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),a("el-popconfirm",{attrs:{confirmButtonText:"确定",cancelButtonText:"取消",placement:"top",icon:"el-icon-info",iconColor:"red",title:"确定删除该用户吗？"},on:{onConfirm:function(a){return e.handleDelete(t.$index,t.row)}}},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{slot:"reference",size:"mini",type:"danger"},slot:"reference"},[e._v("删除")])],1)]}}])})],1)],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"hide-on-single-page":!1,"page-size":e.pagesize,"pager-count":e.pagercount,"current-page":e.currentpage,layout:"total, prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentpage=t},"update:current-page":function(t){e.currentpage=t}}})],1),a("el-drawer",{attrs:{visible:e.drawer,direction:"rtl",size:"50%"},on:{"update:visible":function(t){e.drawer=t}}},[a("div",{staticClass:"updatebar"},[a("el-form",{attrs:{model:e.updateform,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户名"}},[a("el-input",{attrs:{placeholder:"用户名",clearable:""},model:{value:e.updateform.username,callback:function(t){e.$set(e.updateform,"username",t)},expression:"updateform.username"}})],1),a("el-form-item",{attrs:{label:"登录密码"}},[a("el-input",{attrs:{placeholder:"登录密码",clearable:""},model:{value:e.updateform.password,callback:function(t){e.$set(e.updateform,"password",t)},expression:"updateform.password"}})],1),a("el-form-item",{attrs:{label:"性别"}},[a("el-radio-group",{model:{value:e.updateform.sex,callback:function(t){e.$set(e.updateform,"sex",t)},expression:"updateform.sex"}},[a("el-radio",{attrs:{label:"保密"}},[e._v("保密")]),a("el-radio",{attrs:{label:"男"}},[e._v("男")]),a("el-radio",{attrs:{label:"女"}},[e._v("女")])],1)],1),a("el-form-item",{attrs:{label:"真实姓名"}},[a("el-input",{attrs:{placeholder:"真实姓名",clearable:""},model:{value:e.updateform.realname,callback:function(t){e.$set(e.updateform,"realname",t)},expression:"updateform.realname"}})],1),a("el-form-item",{attrs:{label:"身份证号"}},[a("el-input",{attrs:{placeholder:"身份证号",clearable:""},model:{value:e.updateform.idcard,callback:function(t){e.$set(e.updateform,"idcard",t)},expression:"updateform.idcard"}})],1),a("el-form-item",{attrs:{label:"手机号"}},[a("el-input",{attrs:{placeholder:"手机号",clearable:""},model:{value:e.updateform.telphone,callback:function(t){e.$set(e.updateform,"telphone",t)},expression:"updateform.telphone"}})],1),a("el-form-item",[a("div",{staticClass:"but"},[a("el-button",{attrs:{type:"primary"},on:{click:e.update}},[e._v("提交")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.drawer=!1}}},[e._v("取消")])],1)])],1)],1)])],1)},l=[],o=(a("e9c4"),a("9674")),n={name:"usermanage",data:function(){return{pagesize:10,pagercount:5,total:10,currentpage:1,drawer:!1,form:{uid:"",username:"",realname:"",idcard:"",phone:""},editform:{},updateform:{},user:[]}},created:function(){this.firstenter()},methods:{firstenter:function(){var e=this;Object(o["b"])().then((function(t){e.total=t})).catch((function(e){console.log(e)})),Object(o["d"])({page:this.currentpage,count:this.total}).then((function(t){e.user=t})).catch((function(e){console.log(e)}))},handleCurrentChange:function(){var e=this;Object(o["d"])({page:this.currentpage,count:this.pagesize}).then((function(t){e.user=t})).catch((function(e){console.log(e)}))},request:function(){var e=this;Object(o["g"])({uid:this.form.uid,username:this.form.username,realname:this.form.realname,idcard:this.form.idcard,telphone:this.form.phone}).then((function(t){e.user=t.user,e.total=t.total})).catch((function(e){console.log(e)}))},handleEdit:function(e,t){this.editform=t;var a=JSON.stringify(t);this.updateform=JSON.parse(a),this.drawer=!0},handleDelete:function(e,t){var a=this;Object(o["c"])({uid:t.uid}).then((function(e){a.$notify({title:"删除成功",message:e,offset:100,type:"success"}),a.firstenter()})).catch((function(e){console.log(e)}))},update:function(){var e=this,t=new FormData;t.append("uid",this.updateform.uid),t.append("username",this.updateform.username),t.append("password",this.updateform.password),t.append("sex",this.updateform.sex),t.append("realname",this.updateform.realname),t.append("idcard",this.updateform.idcard),t.append("telphone",this.updateform.telphone),Object(o["h"])(t).then((function(t){0==t.flag?e.$notify({title:"失败",message:t.msg,type:"error",offset:100}):(e.$notify({title:"成功",message:t.msg,type:"success",offset:100}),e.editform.username=e.updateform.username,e.editform.password=e.updateform.password,e.editform.sex=e.updateform.sex,e.editform.realname=e.updateform.realname,e.editform.idcard=e.updateform.idcard,e.editform.telphone=e.updateform.telphone,e.drawer=!1)})).catch((function(e){console.log(e)}))}}},i=n,s=(a("2af7"),a("2877")),c=Object(s["a"])(i,r,l,!1,null,"22166f9c",null);t["default"]=c.exports},"9dac":function(e,t,a){}}]);
//# sourceMappingURL=chunk-71aa3a16.5ccc4777.js.map